<!--
<p-dialog header="Add WareHouse" [(visible)]="displayResponsive">
    <div style="width: 830px">
        <div class="app-modal-body">
            <form autocomplete="off" [formGroup]="wareHouseForm" class="createform warehouseForm">
                <div class="popup">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-md-4">
                                <p class="mt-3" style="color: black; font-weight: bold">STORE HOUSE DETAILS</p>

                                <div class="form-group">
                                    <label class="form-label" style="color: white">ORGANIZATION UNIT</label>
                                    <p-dropdown
                                       placeholder="Select Organization Unit"
                                        [options]="orgnizationUnit"
                                        formControlName="orgnizationUnitId"
                                        name="orgnizationid"
                                        optionLabel="displayName"
                                        styleClass="form-control"
                                        optionValue="id"
                                        (onChange)="onChangeOrganization($event)"
                                    ></p-dropdown>
                                    <span class="text-danger ml-3 col-md-12 p-0" *ngIf="isValid(wareHouseForm.controls.orgnizationUnitId)">
                                        This field is required</span>
                                </div>

                                <div class="form-group">
                                    <label class="form-label" style="color: white">WAREHOUSE CODE</label>
                                    <input
                                        type="text"
                                        style="color: #fff"
                                        formControlName="warehouseCode"
                                        name="warehouseCode"
                                        class="form-control"
                                    />
                                    <span class="text-danger ml-3" *ngIf="isValid(wareHouseForm.controls.warehouseCode)">
                                        This field is required</span>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" style="color: white">WAREHOSUE NAME</label>
                                    <input
                                        type="text"
                                        style="color: hsl(0, 0%, 100%)"
                                        formControlName="warehouseName"
                                        name="warehouseName"
                                        class="form-control"
                                    />
                                    <span class="text-danger ml-3" *ngIf="isValid(wareHouseForm.controls.warehouseName)">
                                        This field is required</span>
                                </div>
                            </div>
                            <div class="vr mt-7"></div>
                            <div class="col-md-4">
                                <p class="mt-3" style="color: black; font-weight: bold">WAREHOSUE ATTRIBUTES</p>
                                <div class="form-group">

                                    <div class="form-group row">
                                        <label for="inputEmail3" class="col-form-label">
                                            Parent Warehosue
                                        </label>
                                        <div class="center pl-5">
                                            <div class="switch_box box_1">
                                                <input
                                                    type="checkbox"
                                                    formControlName="warehouseParent"
                                                    id="warehouseParent"
                                                    class="switch_1"
                                                />
                                            </div>
                                        </div>
                                      </div>

                                      <div class="form-group row">
                                        <div class="center">
                                            <div class="switch_box box_1">
                                                <p-checkbox
                                                name="group1"
                                                formControlName="storehouse"
                                                id="storehouse"
                                                [binary]="true"
                                            ></p-checkbox>
                                            </div>
                                        </div>
                                        <label for="inputEmail3" class="col-form-label center">
                                            StoreHouse
                                        </label>
                                      </div>

                                      <div class="form-group row">
                                        <div class="center">
                                            <div class="switch_box box_1">
                                                <p-checkbox
                                                name="group1"
                                                formControlName="Isdependable"
                                                id="Isdependable"
                                                [binary]="true"
                                            ></p-checkbox>
                                            </div>
                                        </div>
                                        <label for="inputEmail3" class="col-form-label center">
                                            StoreHouse Dependable
                                        </label>
                                      </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label" style="color: #fff"><strong>Dependable of</strong></label>
                                    <p-dropdown
                                            [options]="wareHouseList"
                                            formControlName="dependableOfId"
                                            placeholder="Select Dependable"
                                            class="dropdown"
                                            name="dependableOfId"
                                            optionLabel="name"
                                            [style]="{ width: '100%' }"
                                            styleClass="form-control"
                                            optionValue="id"
                                        ></p-dropdown>
                                        <span class="text-danger ml-3"
                                        *ngIf="wareHouseForm.controls.dependableOfId.errors?.invalid ">
                                        This field is required</span>
                                </div>
                            </div>
                            <div class="col">
                                <p class="text-center mt-3" style="color: black; font-weight: bold">WAREHOSUE PHOTO</p>
                                <div class="form-group">
                                    <div class="text-center">
                                        <a (click)="Image.click()" class="text-center" class="btn rounded-pill"
                                            >Upload IMAGE</a
                                        ><br />
                                        <input
                                            type="file"
                                            hidden
                                            #Image
                                            (change)="handleFileInput($event.target.files)"
                                        />
                                    </div>

                                    <div class="text-center form-grop mt-3">
                                        <div
                                            style="
                                                text-align: center;
                                                margin-top: 4px;
                                                height: 104.21px;
                                                background: #3c5934;
                                                border: 1px solid #000000;
                                                box-sizing: border-box;
                                                border-radius: 10px;
                                            "
                                        >
                                            <div class="product_circle" style="margin-top: 10px; display: inline-table">
                                                <img
                                                    class="rounded-circle"
                                                    style="width: 100px;height: 80px;"
                                                    [src]="fileUpload"
                                                />
                                            </div>
                                        </div>
                                        <span class="text-danger ml-3"
                                        *ngIf="wareHouseForm.controls.fileUpload.errors?.invalid ">
                                        This field is required</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="form-label" style="color: #fff"><strong>Description</strong></label>
                                    <textarea
                                        type="text"
                                        style="color: #fff; height: 200px"
                                        formControlName="warehouseDesc"
                                        name="warehouseDesc"
                                        class="form-control"
                                    ></textarea>
                                    <span class="text-danger ml-3" *ngIf="isValid(wareHouseForm.controls.warehouseDesc)">
                                        This field is required</span>
                                </div>

                                <div class="form-group">
                                    <label class="form-label"> WAREHOUSE SETTINGS </label>
                                    <hr style="border: 1px solid #c5e0b4" />
                                </div>
                            </div>
                            <div class="col-md-6">
                                WAREHOSUE ADDRESS
                                <div
                                    class="wrapper"
                                    style="
                                        padding: 17px;
                                        background: linear-gradient(180deg, rgba(33, 51, 21, 0.55) 0%, #bec168 100%);
                                        border-radius: 10px;
                                    "
                                >
                                    <div class="form-group">
                                        <input
                                            type="text"
                                            style="color: #fff"
                                            (keydown.enter)="$event.preventDefault()"
                                            class="form-control"
                                            formControlName="address"
                                            name="address"
                                            value="Enter Address or Select location on map"
                                            autocorrect="off"
                                            autocapitalize="off"
                                            spellcheck="off"
                                            #search
                                        />
                                    </div>
                                    <div class="map-responsive">
                                        <agm-map [latitude]="latitude" [longitude]="longitude" [zoom]="zoom">
                                            <agm-marker
                                            [latitude]="latitude" [longitude]="longitude"
                                                [markerDraggable]="true"
                                                (dragEnd)="markerDragEnd($event)"
                                            ></agm-marker>
                                        </agm-map>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label><strong style="color: #fff">ASSIGNED DEVICES</strong></label>
                                    <div class="border1 mb-3">
                                        <p-multiSelect
                                            [options]="deviceList"
                                            formControlName="deviceIds"
                                            class="dropdown"
                                            name="deviceId"
                                            optionLabel="deviceName"
                                            placeholder="Select Device To Assign"
                                            [style]="{ width: '100%', padding: '0', 'background-color': 'transparent' }"
                                            styleClass="form-control"
                                            optionValue="id"
                                        ></p-multiSelect>
                                        <span class="text-danger ml-3" *ngIf="isValid(wareHouseForm.controls.deviceIds)">
                                            This field is required</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col"></div>
                            <div class="col-md-6"></div>
                        </div>

                        <div class="row">
                            <div class="container">
                                <div class="row">
                                    <label><strong style="color: #fff">Antenna Warehouse</strong></label>

                                    <div class="ml-auto mr-3">
                                        <img (click)="addNewForm()"
                                            role="button"
                                            src="../../../../assets/images/widget/add_category.svg"
                                            style="height: 19px"
                                        />
                                    </div>
                                </div>
                            </div>
                            <div class="list-group list-group-horizontal text-nowrap overflow-auto" style="background: #646a39; border-radius: 10px; width:100%;  padding: 12px;">

                                <div class="col-md-5 card mr-3" style="background-color: #5d653a; padding: 13px; border:none" *ngFor="let form of forms; let f = index">
                                    <form [formGroup]="form" class="antennaWarehouseform">
                                        <div class="col-md-12 p-0 pb-2" style="text-align: end;">
                                            <a class="btn-sm trash-btn" (click)="removeAntenna(form.value.index)" [ngStyle]="{'visibility': (f==0) ? 'hidden' : ''}"><i class="fa fa-trash trash-icon"></i>&nbsp;Remove</a>
                                        </div>
                                        <div class="form-group row">
                                        <label for="inputEmail3" class="col-sm-6 col-form-label">
                                            Antenna Zone Name
                                        </label>
                                        <div class="col-sm-6">
                                          <input type="text"
                                          style="border: none;
                                          background: #646A39 !important;
                                          border-radius: 5px;"
                                          formControlName="antennaZone"
                                          name="antennaZone" class="form-control" id="antennaZone" >
                                          <span class="text-danger ml-3" *ngIf="isValid(form.controls.antennaZone)">
                                            This field is required</span>
                                        </div>
                                      </div>
                                      <div class="form-group row" style="background: #6A7140;">
                                        <label for="inputEmail3" class="col-sm-6 col-form-label">
                                            Device Anttena
                                        </label>
                                        <div class="col-sm-6">
                                            <p-dropdown
                                            [options]="DeviceAntennaList"
                                            formControlName="deviceAntenna"
                                            placeholder="Select Device Antenna"
                                            class="dropdown"
                                            name="deviceAntenna"
                                            optionLabel="antennaName"
                                            [style]="{ width: '100%' }"
                                            styleClass="form-control"
                                            optionValue="id"
                                        ></p-dropdown>
                                        </div>
                                        <span class="text-danger ml-3 col-md-6" *ngIf="isValid(form.controls.deviceAntenna)">
                                            This field is required</span>
                                      </div>
                                      <div class="form-group row" >
                                        <label for="inputEmail3" class="col-sm-6 col-form-label">
                                            Rack Name
                                        </label>
                                        <div class="col-sm-6">
                                            <p-dropdown
                                            [options]="rackList"
                                            formControlName="rackId"
                                            placeholder="Select Rack"
                                            class="dropdown"
                                            name="rackId"
                                            optionLabel="name"
                                            [style]="{ width: '100%' }"
                                            styleClass="form-control"
                                            optionValue="code"
                                        ></p-dropdown>

                                        </div>
                                        <span class="text-danger ml-3" *ngIf="isValid(form.controls.rackId)">
                                            This field is required</span>
                                      </div>
                                      <div class="form-group row" style="background: #6A7140;">
                                        <label for="inputEmail3" class="col-sm-6 col-form-label">
                                            Rack Compartment
                                        </label>
                                        <div class="col-sm-6">
                                            <p-dropdown
                                            [options]="rackCompList"
                                            placeholder="Select Rack Compartment"
                                            formControlName="rackComId"
                                            class="dropdown"
                                            name="rackComId"
                                            optionLabel="name"
                                            [style]="{ width: '100%' }"
                                            styleClass="form-control"
                                            optionValue="code"
                                        ></p-dropdown>

                                        </div>
                                        <span class="text-danger ml-3" *ngIf="isValid(form.controls.rackComId)">
                                            This field is required</span>
                                      </div>
                                      <div class="form-group row">
                                        <label for="inputEmail3" class="col-sm-8 col-form-label">
                                            Acitvate Warehosue Antenna
                                        </label>
                                        <div class="col-sm-4 center">
                                            <div class="switch_box box_1">
                                                <input
                                                    type="checkbox"
                                                    formControlName="activewareHouse"
                                                    id="activewareHouse"
                                                    class="switch_1"
                                                />
                                            </div>
                                        </div>
                                      </div>
                                    </form>
                                </div>
                            </div>
                        </div>

                        <div class="row mt-4">
                            <div class="container">
                                <div class="row">
                                    <label><strong style="color: #fff">Warehouse low item config</strong></label>

                                    <div class="ml-auto mr-3">
                                        <img (click)="addNewLowlevelItems()"
                                            role="button"
                                            src="../../../../assets/images/widget/add_category.svg"
                                            style="height: 19px"
                                        />
                                    </div>
                                </div>
                            </div>
                            <div class="list-group list-group-horizontal text-nowrap overflow-auto" style="background: #646a39; border-radius: 10px; width: 100%;padding: 12px;">
                                    <div class="col-md-6 card mr-3" style="background-color: #5d653a; padding: 13px; border:none;" *ngFor="let form of configforms; let f = index">
                                        <form [formGroup]="form" class="configForm">
                                            <div class="col-md-12 p-0 pb-2" style="text-align: end;">
                                                <a class="btn-sm trash-btn" (click)="removeconfigForm(form.value.index)" [ngStyle]="{'visibility': (f==0) ? 'hidden' : ''}"><i class="fa fa-trash trash-icon"></i>&nbsp;Remove</a>
                                            </div>
                                            <div class="form-group row">
                                            <label for="inputEmail3" class="col-sm-5 col-form-label">
                                                Alert Name
                                            </label>
                                            <div class="col-sm-7">
                                              <input type="email"
                                              style="    border: none;
                                              background: #646A39 !important;
                                              border-radius: 5px;" class="form-control"
                                              formControlName="alertName" id="alertName" placeholder="">
                                              <span class="text-danger ml-3" *ngIf="isValid(form.controls.alertName)">
                                                This field is required</span>
                                            </div>
                                          </div>
                                          <div class="form-group row" style="background: #6A7140;">
                                            <label for="inputEmail3" class="col-sm-5 col-form-label">
                                                Store / Items
                                            </label>
                                            <div class="col-sm-7">
                                                <p-dropdown
                                                [options]="StoreList"
                                                placeholder="Select Store/Item"
                                                formControlName="storeItems"
                                                class="dropdown"
                                                name="storeItems"
                                                optionLabel="itemName"
                                                [style]="{ width: '100%' }"
                                                styleClass="form-control"
                                                optionValue="id"
                                            ></p-dropdown>

                                            </div>
                                            <span class="text-danger ml-3" *ngIf="isValid(form.controls.storeItems)">
                                                This field is required</span>
                                          </div>
                                          <div class="form-group row">
                                            <label for="inputEmail3" class="col-sm-8 col-form-label">
                                                Activate Low Alert
                                            </label>
                                            <div class="col-sm-4">
                                                <div class="switch_box box_1">
                                                    <input
                                                        type="checkbox"
                                                        formControlName="activateLowAlert"
                                                        id="activateLowAlert"
                                                        class="switch_1"
                                                    />
                                                </div>
                                            </div>
                                          </div>
                                          <div class="form-group row" style=" background: #6A7140;
                                          border-radius: 0px;">
                                          <div class="col-md-12">
                                            <div class="col-md-4"></div>
                                            <div class="col-md-8" style="text-align: end;">
                                                <div class="form-check form-check-inline">
                                                    <label class="form-check-label" for="inlineRadio2">Quantity</label>
                                                    <input class="form-check-input" type="radio" name="QuantityType" id="inlineRadio2"  formControlName="QuantityType" value="1">

                                                  </div>
                                                  <div class="form-check form-check-inline">
                                                    <label class="form-check-label" for="inlineRadio3">Weight</label>
                                                    <input class="form-check-input" type="radio" name="QuantityType" formControlName="QuantityType" id="inlineRadio3" value="2">

                                                  </div>
                                            </div>

                                      </div>
                                      <div class="col-md-12 p-0">
                                        <label for="inputEmail3" class="col-sm-5 col-form-label">
                                            Low Level Quantity
                                        </label>
                                        <div class="col-sm-7">

                                            <input type="email"
                                          style="    border: none;
                                          background: #646A39 !important;
                                          border-radius: 5px;" class="form-control"
                                          formControlName="lowLevelQuanity" id="lowLevelQuanity" placeholder="">
                                          <span class="text-danger ml-3" *ngIf="isValid(form.controls.lowLevelQuanity)">
                                            This field is required</span>
                                        </div>
                                      </div>

                                          </div>
                                          <div class="form-group row">
                                            <label for="inputEmail3" class="col-sm-5 col-form-label">
                                                Low Level Early
                                                Warning
                                            </label>
                                            <div class="col-sm-7">
                                                <input type="email"
                                          style="    border: none;
                                          background: #646A39 !important;
                                          border-radius: 5px;"
                                          formControlName="lowLevelEarlyWarning" class="form-control" id="lowLevelEarlyWarning" placeholder="">
                                          <span class="text-danger ml-3" *ngIf="isValid(form.controls.lowLevelEarlyWarning)">
                                            This field is required</span>
                                        </div>
                                          </div>
                                          <div class="form-group row" style="padding: 8px; background: #6A7140;
                                          border-radius: 0px;">
                                            <label for="inputEmail3" class="col-sm-8 col-form-label">
                                                Acitvate Expiry Alert
                                            </label>
                                            <div class="col-sm-4">
                                                <div class="switch_box box_1">
                                                    <input
                                                        type="checkbox"
                                                        formControlName="acitvateExpiryAlert"
                                                        id="acitvateExpiryAlert"
                                                        class="switch_1"
                                                    />

                                                </div>
                                            </div>
                                          </div>
                                          <div class="form-group row" style="background: #6A7140;
                                          border-radius: 0px;">
                                            <label for="inputEmail3" class="col-sm-6 col-form-label">
                                                Expiry Date Intervals
                                            </label>
                                            <div class="col-sm-6">
                                                <input type="email"
                                          style="    border: none;
                                          background: #646A39 !important;
                                          border-radius: 5px;"
                                          formControlName="expiryDateIntervals" class="form-control" id="expiryDateIntervals" placeholder="">
                                          <span class="text-danger ml-3" *ngIf="isValid(form.controls.expiryDateIntervals)">
                                            This field is required</span>
                                        </div>
                                          </div>
                                          <div class="form-group row" style="background: #6A7140;
                                          border-radius: 0px;">
                                            <label for="inputEmail3" class="col-sm-6 col-form-label">
                                                Expiry Date Early Warning
                                            </label>
                                            <div class="col-sm-6">
                                                <input type="email"
                                                style="    border: none;
                                                background: #646A39 !important;
                                                border-radius: 5px;" class="form-control"
                                                formControlName="expiryDateEarlyWarning" id="expiryDateEarlyWarning" placeholder="">
                                                <span class="text-danger ml-3" *ngIf="isValid(form.controls.expiryDateEarlyWarning)">
                                                    This field is required</span>
                                            </div>
                                          </div>
                                        </form>
                                    </div>
                            </div>
                        </div>

                        <div class="col-md-3 float-right text-center mt-5 mb-5">
                            <button *ngIf="!submitted"  [disabled]="wareHouseForm.invalid || validateForms()" type="submit" class="btn rounded-pill submit-btn" (click)="submit()">
                                Submit
                            </button>
                            <button *ngIf="submitted" [disabled]="true" type="submit" class="btn rounded-pill submit-btn">
                                Submitting...
                            </button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</p-dialog> -->
